<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head th:replace="~{fragments/css :: css}"></head>
<body>
<header th:replace="~{fragments/header :: header}"></header>
<div class="container mt-5">
    <div class="row">
        <div class="col d-flex justify-content-center align-items-center">
            <div class="col-md-5">
                <h4 class="text-center">아이디 / 비밀번호 찾기</h4>
                <div class="card mt-4" id="mainCard">
                    <div class="card-header" id="cardHeader">
                        <ul class="nav nav-tabs card-header-tabs">
                            <li class="nav-item">
                                <a class="nav-link active" id="findIdTab" data-toggle="tab" href="#findIdContent">아이디
                                    찾기</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="resetPwTab" data-toggle="tab" href="#resetPwContent">비밀번호
                                    재설정</a>
                            </li>
                        </ul>
                    </div>
                    <div id="beforeFind">
                        <div class="card-body" id="cardBody">
                            <div class="tab-content">
                                <div class="tab-pane fade show active" id="findIdContent">
                                    <!-- 아이디 찾기 폼 -->
                                    <div id="findId">
                                        <div class="form-group">
                                            <label for="nameForId">이름</label>
                                            <input type="text" class="form-control" id="nameForId" name="name"
                                                   placeholder="이름을 입력하세요" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="telForId">전화 번호</label>
                                            <div class="input-group">
                                                <input type="text" class="form-control userTel" id="telForId" name="tel"
                                                       placeholder="010-1234-1234" required>
                                            </div>
                                        </div>
                                        <div class="text-center">
                                            <button type="button" class="btn btn-success" id="findIdBtn">아이디 찾기</button>
                                        </div>
                                    </div>
                                    <p id="idResult" class="mt-3 text-center" style="display: none;"></p>
                                    <div id="providerResult" class="mt-3 text-center" style="display: none;"></div>
                                </div>
                                <div class="tab-pane fade" id="resetPwContent">
                                    <!-- 비밀번호 재설정 준비 폼 -->
                                    <div id="initialForm" class="mt-3" style="display: none;">

                                        <div class='form-group'>
                                            <label for='emailForPw'>아이디(이메일)</label>
                                            <div class='input-group'>
                                                <input type='email' class='form-control' id='emailForPw'
                                                       placeholder='이메일을 입력하세요' required>
                                                <div class='input-group-append'>
                                                    <button type='button'
                                                            class='btn btn-secondary emailAuthenticationBtn'
                                                            id='sendVerificationCodeForPw'>인증번호 발송
                                                    </button>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- 인증번호 입력 필드 (초기에는 숨김) -->
                                        <div class='form-group' id='verificationCodeGroupForPw' style='display: none;'>
                                            <label for='verificationCodeForPw'>인증번호</label>
                                            <input type='text' class='form-control' id='verificationCodeForPw'
                                                   placeholder='인증번호를 입력하세요' required>
                                        </div>
                                        <div class="form-group">
                                            <label for="telForPw">전화 번호</label>
                                            <div class="input-group">
                                                <input type="text" class="form-control userTel" id="telForPw" name="tel"
                                                       placeholder="010-1234-1234" required>
                                            </div>
                                        </div>
                                        <p id='pwResultError' class='mt-3 text-center text-danger'
                                           style='display:none;'></p>
                                        <div class="text-center">
                                            <button type='button' class='btn btn-success' id="newPassword">비밀번호
                                                재설정
                                            </button>
                                        </div>
                                    </div>

                                    <div id="afterFind" style="display: none">
                                        <div class='form-group'>
                                            <label for='newPw'>새 비밀번호</label>
                                            <input type='password' class='form-control' id='newPw' name="password"
                                                   placeholder='새 비밀번호를 입력하세요' required>
                                        </div>
                                        <div class='form-group'>
                                            <label for='confirmPassword'>비밀번호 확인</label>
                                            <input type='password' class='form-control' id='confirmPassword'
                                                   placeholder='비밀번호를 다시 입력하세요' required>
                                        </div>
                                        <p id='pwConfirmError' class='mt-3 text-center text-danger'
                                           style='display:none;'></p>
                                        <p id='pwResultSuccess' class='mt-3 text-center text-success'
                                           style='display:none;'></p>
                                        <input type='hidden' id='hiddenEmail' name='email'>
                                        <button type='button' class='btn btn-find btn-block' id="updateBtn">비밀번호
                                            변경
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class='card-footer text-center'>
                            <a href='/login' class='text-decoration-none'>로그인 화면으로</a> /
                            <a href="/signup" class="text-decoration-none">회원가입 화면으로</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<footer th:replace="~{fragments/footer :: footer}"></footer>
<div th:replace="~{fragments/script :: script-body}"></div> <!-- 하단 JS -->
</body>
</html>