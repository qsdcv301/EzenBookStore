<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<div th:fragment="paymentModal" class="modal fade" id="paymentModal" tabindex="-1" aria-labelledby="paymentModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="paymentModalLabel">주문 확인</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body overflow-auto" style="max-height:750px">
                <div class="row">
                    <div class="col-6">
                        <h4>구매하실 상품</h4>
                        <div class="modal-items"></div>
                    </div>
                    <form class="col-6">
                        <h5 data-toggle="collapse" href="#collapseExam">주문자 정보</h5>
                        <div id="collapseExam" class="collapse">
                            <div class="mb-3">
                                <label class="form-label">이름</label>
                                <input th:value="${user.name}" type="text" class="form-control payment-name" required>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">연락처</label>
                                <input th:value="${user.tel}" type="text" class="form-control payment-tel" required>
                            </div>
                        </div>
                        <hr>
                        <h5>배송지 정보</h5>
                        <div class="mb-3">
                            <label class="form-label">배송 주소</label>
                            <input th:value="${user.addr}" type="text" class="form-control payment-addr" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">상세 주소</label>
                            <input th:value="${user.addrextra}" type="text" class="form-control payment-addrextra" required>
                        </div>
                        <hr>
                        <h5>결제 정보</h5>
                        <div class="mb-5">
                            <p>사용 가능한 적립금: <span id="available-points" th:text="${user.point}">999,999</span>원</p>
                            <label class="form-label">사용할 적립금</label>
                            <input type="number" class="form-control payment-point" id="used-points" value="0" th:min="0" step="100" th:max="${user.point}">
                            <p>결제 수단</p>
                            <div class="col">
                                <div class="col-md-5 btn btn-primary btn-lg me-2">무통장 입금</div>
                                <div class="col-md-5 btn btn-success btn-lg">신용 카드</div>
                            </div>
                        </div>
                        <hr class="mt-5">
                        <h4>주문 확인</h4>
                        <div class="mt-3">
                            <p>총 상품 금액: <span id="order-original-price"></span></p>
                            <p>배송비: <span id="order-shipping-fee"></span></p>
                            <p>총 결제 금액: <span id="order-final-total"></span></p>
                            <div id="order-deduction-summary" class="pl-5 text-muted"></div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">취소</button>
                <button type="button" class="btn btn-primary confirmPurchase">결제 하기</button>
            </div>
        </div>
    </div>
</div>
</html>